<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>드림런: 폭탄을 피해 꿈으로!</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/webfontworld/gmarket/GmarketSans.css">
    <link rel="stylesheet" href="style.css?v=20251103">
</head>
<body>
    <div class="app" id="app">
        <header class="topbar">
            <div class="hud-left"></div>
            <div class="hud-right"></div>
        </header>

        <main class="stage" id="stage">
            <div class="playfield" id="playfield">
                
                <div class="canvas-wrap danger-frame-off" id="canvasWrap">
                    <div class="canvas-hud">
                        <div class="hud-row">
                            <div class="battery hud-left" aria-label="멘탈 게이지">
                                <svg class="battery-icon" viewBox="0 0 54 24" aria-hidden="true">
                                    <rect x="1" y="1" width="48" height="22" rx="3" ry="3" class="battery-outline"/>
                                    <rect x="50" y="7" width="3" height="10" rx="1" class="battery-nub"/>
                                    <rect x="3" y="3" width="44" height="18" rx="2" class="battery-fill-bg"/>
                                    <rect x="3" y="3" width="0" height="18" rx="2" class="battery-fill" id="batteryFill"/>
                                </svg>
                                <span class="battery-text"><span id="mentalPercent">100</span>%</span>
                            </div>
                            <div class="score score-chip">⭐ 드림 포인트: <span id="score">0</span></div>
                            <div class="top-actions">
                                <button id="restartTopBtn" class="btn icon round" aria-label="다시하기" title="다시하기">
                                    <img src="새로고침.png?v=20251103" alt="다시하기" class="icon-img" />
                                </button>
                                <button id="muteTopBtn" class="btn icon round" aria-pressed="false" aria-label="음소거" title="음소거">
                                    <span class="icon-sound" id="soundOnTop"><img src="음소거해제.png?v=20251103" alt="음소거 해제" class="icon-img" /></span>
                                    <span class="icon-sound-off" id="soundOffTop"><img src="음소거.png?v=20251103" alt="음소거" class="icon-img" /></span>
                                </button>
            </div>
        </div>
    </div>
                    <canvas id="gameCanvas" width="800" height="500"></canvas>
                    
            </div>
        </div>
    </main>

        <footer class="bottombar">
            <div class="controls-left">
                <button id="startBtn" class="btn primary">시작</button>
            </div>
            <div class="controls-center touch-controls" id="touchControls" hidden>
                <button id="btnLeft" class="touch-btn">←</button>
                <button id="btnJump" class="touch-btn">⤒</button>
                <button id="btnRight" class="touch-btn">→</button>
            </div>
            <div class="controls-right"></div>
        </footer>

        <div class="overlay" id="startOverlay" role="dialog" aria-modal="true">
            <div class="panel start-panel">
                <img class="title-img" src="드림런제목.png?v=20251103" alt="드림런" />
                <p class="subtitle">꿈을 달려가는 우리</p>
                <p class="tap blink" id="tapToStart">탭하여 시작</p>
                <p class="credit">광주청년 일경험드림사업단 presents</p>
                <button class="btn primary lg" id="startOverlayBtn" aria-hidden="true" style="position:absolute;opacity:0;pointer-events:none;">게임 시작</button>
            </div>
        </div>

        <div class="overlay" id="pauseOverlay" hidden>
            <div class="panel">
                <h2>일시정지</h2>
                <p>P를 다시 눌러 재개</p>
                <button class="btn" id="resumeBtn">계속 달리기</button>
            </div>
        </div>

        <div class="overlay" id="gameOverOverlay" hidden>
            <div class="panel">
                <h2>게임 오버</h2>
                <div class="stats">
                    <div>점수: <strong id="finalScore">0</strong> <span class="badge" id="newBest" hidden>NEW BEST!</span></div>
                    <div>드림코인: <strong id="finalCoins">0</strong></div>
                    <div>최장 생존 시간: <strong id="finalTime">0.0s</strong></div>
					<div>현재 등수: <strong id="finalRank">-</strong> <span class="muted" id="finalRankMeta"></span></div>
                </div>
				<div class="leaders" id="postGameLeaders" hidden>
					<h3 style="margin:10px 0 6px;">상위 10위</h3>
					<ol id="postGameLeaderboard" style="padding-left:18px;margin:0;"></ol>
				</div>
				<div class="prize" id="prizeCodeWrap" hidden>
					<div class="prize-line">당첨 코드: <code id="prizeCode">DRM-0000</code></div>
					<div class="prize-actions">
						<button class="btn secondary" id="copyCodeBtn">코드 복사</button>
						<span class="hint">캡처 권장</span>
					</div>
				</div>
				<div class="prize" id="playerCodeWrap" hidden>
					<div class="prize-line">내 코드: <code id="playerCode">PLY-0000</code></div>
					<div class="prize-actions">
						<button class="btn secondary" id="copyPlayerCodeBtn">코드 복사</button>
					</div>
				</div>
                <p class="share-line" id="shareLine">오늘의 드림 포인트: 0 — 나 내일도 달린다!</p>
                <div class="share">
                    <button class="btn primary" id="playAgainBtn">다시하기</button>
                    <button class="btn secondary" id="shareBtn">공유하기</button>
                </div>
            </div>
        </div>

        <div class="toast" id="toast" aria-live="polite"></div>
    </div>

		<div class="panel leaderboard" id="leaderboardPanel" style="max-width:800px;margin:12px auto;">
			<h3 style="margin:8px 0;">실시간 리더보드</h3>
			<ol id="leaderboardList" style="padding-left:18px;margin:6px 0;"></ol>
			<small style="opacity:.7;">코드는 일부만 마스킹되어 노출됩니다.</small>
		</div>
		<script src="game.js?v=20251103"></script>
</body>
<noscript>이 게임을 실행하려면 JavaScript가 필요합니다.</noscript>
</html>



